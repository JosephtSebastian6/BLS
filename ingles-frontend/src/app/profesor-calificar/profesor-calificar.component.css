:root {
  --primary: #667eea;
  --border: rgba(102, 126, 234, 0.2);
  --glass: rgba(255,255,255,.95);
  --shadow: 0 10px 40px rgba(0,0,0,.1);
}

.calificar-layout {
  max-width: 1200px;
  margin: 24px auto;
  padding: 0 16px;
}

.card {
  background: var(--glass);
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow);
  overflow: hidden;
}

.card-header {
  background: linear-gradient(135deg, #667eea, #5a6ee6);
  color: #fff;
  padding: 16px 20px;
}

.card-header h2 { margin: 0; font-size: 1.1rem; font-weight: 800; letter-spacing: .5px; text-transform: uppercase; }

.card-body { padding: 16px; }

.grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; align-items: end; }

/* ---- Calificaci√≥n global (override) ---- */
.final-grid {
  display: grid;
  grid-template-columns: 1fr 1.2fr;
  gap: 16px;
  align-items: start;
}
.final-grid .fullheight select { height: 100%; min-height: 260px; }
.final-grid .right-pane { display: grid; grid-template-rows: auto auto auto; gap: 14px; }
.final-grid .hint { color: #6b7280; font-weight: 600; font-size: .85rem; margin-left: 4px; }
.final-grid .help { color: #6b7280; font-size: .85rem; margin-top: 6px; }
.toggle-inline { display: flex; align-items: center; justify-content: space-between; }
.switchline { display: flex; align-items: center; gap: 10px; font-weight: 700; color: #1f2937; }
.final-actions { display: flex; align-items: center; gap: 12px; }

/* Historial */
.hist-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
.hist-col { background: #fff; border: 1px solid rgba(0,0,0,.06); border-radius: 12px; padding: 12px; box-shadow: 0 6px 18px rgba(0,0,0,.05); }
.section-title { font-weight: 800; color: #1f2937; display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; }
.badge { background: rgba(102,126,234,.15); color: #4f46e5; padding: 2px 8px; border-radius: 999px; font-size: .8rem; font-weight: 800; }

.tabla { width: 100%; border-collapse: separate; border-spacing: 0; font-size: .95rem; }
.tabla thead th { text-align: left; font-weight: 800; color: #374151; border-bottom: 1px solid rgba(0,0,0,.08); padding: 8px; }
.tabla tbody td { padding: 8px; border-bottom: 1px dashed rgba(0,0,0,.06); vertical-align: top; }
.tabla .empty { color: #6b7280; text-align: center; padding: 14px 0; }

.chip { display: inline-block; padding: 2px 8px; border-radius: 999px; font-weight: 800; font-size: .85rem; }
.chip.score { background: rgba(16,185,129,.12); color: #065f46; }
.chip.ok { background: rgba(16,185,129,.12); color: #065f46; }
.chip.no { background: rgba(239,68,68,.12); color: #7f1d1d; }
.chip.muted { background: rgba(0,0,0,.06); color: #6b7280; }

.ellipsis { max-width: 220px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; }

.field label { display: block; font-size: .85rem; font-weight: 700; color: var(--primary); margin-bottom: .35rem; text-transform: uppercase; letter-spacing: .5px; }
.field input, .field select { width: 100%; padding: .65rem .8rem; border-radius: 10px; border: 1px solid rgba(0,0,0,.08); background: #fff; box-shadow: 0 2px 8px rgba(0,0,0,.04); }
.field.tipo { display: flex; align-items: center; gap: 12px; }
.field.tipo label { font-weight: 600; color: #1f2937; text-transform: none; letter-spacing: 0; }

.btn { background: linear-gradient(135deg, #667eea, #5a6ee6); color: #fff; border: none; padding: .7rem 1.2rem; border-radius: 10px; font-weight: 800; cursor: pointer; box-shadow: 0 8px 24px rgba(102,126,234,.3); }
.btn:disabled { opacity: .6; cursor: not-allowed; }

.msg { margin-top: .75rem; font-weight: 700; }

@media (max-width: 900px) { .grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 600px) { 
  .grid { grid-template-columns: 1fr; } 
  .hist-grid { grid-template-columns: 1fr; } 
  .final-grid { grid-template-columns: 1fr; }
}
