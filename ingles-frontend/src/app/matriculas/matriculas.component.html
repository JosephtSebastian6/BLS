<div class="matriculas-container">
  <div class="matriculas-header">
    <h2>üìã Gesti√≥n de Matr√≠culas</h2>
    <p>Administra y supervisa las matr√≠culas de estudiantes en los diferentes cursos de ingl√©s.</p>
  </div>

  <!-- Indicador de carga -->
  <div *ngIf="loading" class="loading-container">
    <div class="spinner"></div>
    <p>Cargando matr√≠culas...</p>
  </div>

  <!-- Mensaje de error -->
  <div *ngIf="error" class="error-container">
    <p>{{ error }}</p>
  </div>

  <!-- Tabla de matr√≠culas -->
  <div *ngIf="!loading && !error" class="matriculas-table-container">
    <div class="table-header">
      <h3>Lista de Matr√≠culas</h3>
      <div class="table-stats">
        <span class="stat-item">
          <strong>{{ matriculas.length }}</strong> matr√≠culas registradas
        </span>
      </div>
    </div>

    <div class="table-wrapper">
      <table class="matriculas-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Estudiante</th>
            <th>Email</th>
            <th>Curso</th>
            <th>Profesor</th>
            <th>Fecha Matr√≠cula</th>
            <th>Estado</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let matricula of matriculas" class="matricula-row">
            <td class="matricula-id">{{ matricula.id }}</td>
            <td class="matricula-estudiante">
              <div class="estudiante-info">
                <span class="estudiante-nombre">{{ matricula.estudiante }}</span>
              </div>
            </td>
            <td class="matricula-email">{{ matricula.email }}</td>
            <td class="matricula-curso">
              <span class="curso-badge">{{ matricula.curso }}</span>
            </td>
            <td class="matricula-profesor">{{ matricula.profesor }}</td>
            <td class="matricula-fecha">{{ matricula.fechaMatricula | date:'dd/MM/yyyy' }}</td>
            <td class="matricula-estado">
              <span class="estado-badge" [class]="getEstadoClass(matricula.estado)">
                {{ matricula.estado }}
              </span>
            </td>
            <td class="matricula-acciones">
              <button 
                class="btn-accion btn-toggle" 
                [class.btn-activar]="matricula.estado === 'Inactiva'"
                [class.btn-desactivar]="matricula.estado === 'Activa'"
                [title]="matricula.estado === 'Activa' ? 'Desactivar matr√≠cula' : 'Activar matr√≠cula'"
                (click)="toggleMatricula(matricula.estudianteUsername)">
                {{ matricula.estado === 'Activa' ? 'üîí' : 'üîì' }}
              </button>
              <button class="btn-accion btn-ver" title="Ver detalles">
                üëÅÔ∏è
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Resumen de estados -->
    <div class="estados-resumen">
      <div class="resumen-item">
        <span class="resumen-numero">{{ getMatriculasPorEstado('Activa').length }}</span>
        <span class="resumen-label">Activas</span>
      </div>
      <div class="resumen-item">
        <span class="resumen-numero">{{ getMatriculasPorEstado('Pendiente').length }}</span>
        <span class="resumen-label">Pendientes</span>
      </div>
      <div class="resumen-item">
        <span class="resumen-numero">{{ getMatriculasPorEstado('Inactiva').length }}</span>
        <span class="resumen-label">Inactivas</span>
      </div>
    </div>
  </div>
</div>
