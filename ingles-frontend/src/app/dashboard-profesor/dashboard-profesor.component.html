<div class="perfil-container">
  <form *ngIf="perfil" (ngSubmit)="onSubmit()" class="perfil-form">
    <h2 class="perfil-title">Mi Perfil</h2>
    <div class="perfil-foto-container">
      <div class="perfil-foto">
        <img *ngIf="perfil.profile_image_url" [src]="perfil.profile_image_url" alt="Foto de perfil" (error)="onImagenError()" />
        <span *ngIf="imagenInvalida" class="foto-error">No se pudo cargar la imagen</span>
      </div>
    </div>
    <div class="perfil-campos">
      <div class="perfil-campo">
        <label>Usuario:</label>
        <input [(ngModel)]="perfil.username" name="username" disabled />
      </div>
      <div class="perfil-campo">
        <label>Email:</label>
        <input [(ngModel)]="perfil.email" name="email" />
      </div>
      <div class="perfil-campo">
        <label>Nombres:</label>
        <input [(ngModel)]="perfil.nombres" name="nombres" />
      </div>
      <div class="perfil-campo">
        <label>Apellidos:</label>
        <input [(ngModel)]="perfil.apellidos" name="apellidos" />
      </div>
      <div class="perfil-campo">
        <label>Número Identificación:</label>
        <input [(ngModel)]="perfil.numero_identificacion" name="numero_identificacion" />
      </div>
      <div class="perfil-campo">
        <label>Ciudad:</label>
        <input [(ngModel)]="perfil.ciudad" name="ciudad" />
      </div>
      <div class="perfil-campo">
        <label>Año Nacimiento:</label>
        <input [(ngModel)]="perfil.ano_nacimiento" name="ano_nacimiento" />
      </div>
      <div class="perfil-campo">
        <label>Dirección:</label>
        <input [(ngModel)]="perfil.direccion" name="direccion" />
      </div>
      <div class="perfil-campo">
        <label>Teléfono:</label>
        <input [(ngModel)]="perfil.telefono" name="telefono" />
      </div>
      <div class="perfil-campo">
        <label>URL de imagen de perfil:</label>
        <input [(ngModel)]="perfil.profile_image_url" name="profile_image_url" (input)="onImagenInputChange()" />
      </div>
    </div>
    <button type="submit" class="perfil-btn">Guardar cambios</button>
    <div *ngIf="mensajeExito" class="exito">{{mensajeExito}}</div>
  </form>
  <router-outlet></router-outlet>
</div>

